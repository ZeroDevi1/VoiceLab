# uv config for this workflow.
#
# Why this exists:
# - CosyVoice pins torch/torchaudio GPU wheels that are typically served from PyTorch's index.
# - onnxruntime-gpu can require a CUDA-specific index (see upstream comments).
#
# If your network cannot access these indexes, set them via env vars or edit this file.

index-strategy = "unsafe-best-match"

[[index]]
url = "https://pypi.org/simple"

[[index]]
url = "https://download.pytorch.org/whl/cu121"

[[index]]
url = "https://aiinfra.pkgs.visualstudio.com/PublicPackages/_packaging/onnxruntime-cuda-12/pypi/simple/"

[pip]
# openai-whisper 是 sdist，且 setup.py 依赖 pkg_resources（setuptools>=82 已移除）。
# 关闭该包的 build isolation，让它复用项目环境里的 setuptools==69.5.1 进行构建。
no-build-isolation-package = ["openai-whisper"]
